<p dir="rtl">
طریقه‌ی دیپلوی شدن پرژه به کمک gitlab-ci است. به این صورت که ۲ استپ دارد.
در استپ اول باید پروژه را build کند و درواقع یک docker image می‌سازد. ساختن داکر ایمیج از با کمک dockerfile است.
در این مرحله کدها جمع‌آوری می‌شود و nginx کانفیگ می‌شود و درنهایت به صورت supervisor اجرا می‌شوند. نکته مهم دیگر این است که uwsgi را فراموش نکنیم. ( همه‌ی این فایل ها در دایرکتوری config درون پروژه هستند)
فایل های static راهم جدا می‌کنیم و کانفیگ های لازم را انجام می‌دهیم. سپس دستورات موجود در فایل entryPoint.sh اجرا می‌شوند که مربوط به migration هستند.
 در نهایت یک docker image ساخته‌میشود که در docker hub به صورت اتوماتیک push می‌شود.
 در مرحله بعد که مرحله‌ی دیپلوی است روی سرور مربوطه باید فایل deployToServer.sh را اجرا کنیم.
اجرا به این صورت است که اول چک می‌کند آیا داکرایمیجی وجود دارد از قبل یانه. اگر بود آن را نگه می‌دارد و داکر ایمیج جدید را جایگزین آن کرده و deployToServer.sh را اجرا می‌کند در غیر این صورت همین آخرین ورژن را اجرا می‌کند.

با این سیستم دیگر برای آپدیت شدن کدها بعد از تغییرات نیاز به کاری نیست و auto deploy است و فقط کافیست پروژه را روی gitlab پوش کنیم بقیه کار هارا gitlab-ci می‌کند!
نکته :‌ پروژه را روی یک repository به صورت پابلیک در آدرس زیر در gitlab گذاشته ام :
https://gitlab.com/nazanin_annabestani/webProjectPhase3
</p>